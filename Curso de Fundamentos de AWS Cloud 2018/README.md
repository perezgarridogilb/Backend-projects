# AWS Cloud 
Curso de Fundamentos de AWS Cloud 

# ¿Qué es el cómputo en la nube?
En AWS el cómputo en la nube trata de los siguiente:
- **Sitios Web**: Una sola computadora corriendo un solo stack de programación cómo LAMP, XAMPP, entre otros.
- **Respaldos y recuperación**: incluso de sistemas operativos completos.
- **Archivos Permanentes**: También puedes guardar archivos estáticos como fotografías o documentos.
- **DevOps**: No solo tenemos automatización en el release de los proyectos, también cuentas con alta disponibilidad o respaldos automatizados en diversos lugares del mundo.
- **Análisis Masivos**: Permite la realización de cálculos de analíticos de forma masiva; es decir, no sólo el procesamiento de los analíticos típicos y populares que implementan en los sitios web, sino también se pueden hacer mediciones de diversos datos y tipos de información. Por ejemplo, el cálculo de memoria, CPU y/o memoria RAM consumida por una aplicación en diversos servidores.
- **Cómputo Serverless**: En lugar de preocuparte por la cantidad de computadoras o cómo y cuándo va a escalar tu servicio puedes programar tu aplicación con microservicios para que AWS se encargue de darte los elementos necesarios.
- **Cómputo de Alto Rendimiento**: Levanta tus servidores sólo cuando tu aplicación lo necesita sin necesidad de invertir en data centers.
- **Internet of Things**: En este área, AWS no sólo brinda la parte del hardware, que sería tener acceso a hardware de una manera relativamente rápida y fácil, sino también todo lo que incluye interactuar con dichos dispositivos, el gateway para permitir el ingreso de la información, y además, puede escalar de manera automática cuando se necesite.
- **Aplicaciones Empresariales**: AWS tiene aplicaciones empresariales tradicionales, como por ejemplo, correos empresariales, que, al igual que otros servicios.
- **Distribución de media**: Con este servicio, AWS te brinda mecanismos de transcoding. Por ejemplo, si se desea realizar un streaming: Este servicio brinda todo lo necesario para poder llegar a la cantidad de personas que se quiera.
- **Servicios móviles**: Estos servicios son esenciales para lograr una correcta interacción entre una aplicación móviles con otros servicios, como con una base de datos, el backend, etc.
- **Cómputo científico**: : AWS tiene máquinas especializadas (más memoria RAM, más CPU, más cores trabajando al mismo tiempo, etc.) para el cómputo enfocado a la parte científica, como pueden ser, simulaciones físicas, simulaciones financieras, etc.
- **E-commerce**: Este servicio incluye todos los componentes necesarios para hacer una página de ventas virtual. Entre esos componentes, están la parte de seguridad, la cantidad de servidores necesarios, comunicación con la base de datos de manera segura; del lado de la base de datos incluye respaldos, optimizaciones para expandir o disminuir la base de datos de acuerdo al uso/carga, etc.
- **Ambientes Híbridos**: Este área de AWS brinda la posibilidad de poder trabajar con información en la nube, y al mismo tiempo con datos hosteados de manera local en un servidor propio.
- **Blockchain**: Este sistema permite realizar acciones, como por ejemplo, minar, hacer análisis de la información para verificar que no esté siendo modificada o alterada en el camino, entre otras opciones.

## Ventajas de AWS: 
- Cero inversión inicial, muchos servicios son gratis el primer año
- Usa lo que necesites, apaga lo que no
- Crece tanto como sueñes
- Velocidad cuando la necesitas
- Si no lo usas, no lo pagas
- Cobertura mundial

![aws_a42899ad-91a0-4213-9bce-d79e5f557dbc1](https://user-images.githubusercontent.com/56992179/160355428-354ae2a7-b02b-47e7-b9e9-654b74992494.jpg)

**Aportes de la comunidad**:


Cómputo en la nube de AWS.

- Sitios web: Principalmente, lo clásico, sitios web, que pueden ser desde una sola computadora con una arquitectura básica LAMP (Linux, Apache, MySQL & PHP) a construir grandes infraestructuras, soportar muchísimos usuarios sin ningún tipo de dificultad.
- Respaldos y recuperación: AWS brinda la posibilidad de que en cualquier momento se pueda hacer respaldos y recuperar información, como puede ser recuperar una máquina completa, o tener respaldos de varias etapas del desarrollo de un proyecto.
- Archivos permanentes: AWS permite almacenar archivos estáticos, como pueden ser imágenes o archivos de cualquier tipo o extensión.
- DevOps: En este área, no solamente se cuenta con automatización en el release de los nuevos proyectos, sino también con una alta disponibilidad o respaldos automatizados en diversos lugares del mundo, que pueden ser diarios y pueden ser escalables, como por ejemplo, desde 5 usuarios hasta 3000 en dos minutos.
Análisis masivos: AWS permite la realización de cálculos de analíticos de forma masiva; es decir, no sólo el procesamiento de los analíticos típicos y populares que implementan en los sitios web, sino también se pueden hacer mediciones de diversos datos y tipos de información. Por ejemplo, el análisis de la CPU y/o memoria RAM consumida por una aplicación en diversos servidores.
Cómputo Serverless: Con este servicio, no es necesaria la preocupación por la cantidad de computadoras o cómo y cuándo se va a escalar el servicio. AWS permite realizar una partición del software; no a nivel de componentes, sino casi que a nivel de funciones; las cuales son expuestas a través de microservicios, los cuales pueden interactuar entre ellos. Amazon no cobra por el tamaño de estos microservicios, sino por la utilización o llamadas hacia éstos; y en caso de que dichas llamadas sean muy frecuentes, serán escalados los microservicios.
Cómputo de alto rendimiento: Levanta los servidores necesarios para computar a un alto rendimiento sólo las veces que la aplicación lo requiera.
- IOT: En este área, AWS no sólo brinda la parte del hardware, que sería tener acceso a hardware de una manera relativamente rápida y fácil, sino también todo lo que incluye interactuar con dichos dispositivos, el gateway para permitir el ingreso de la información, y además, puede escalar de manera automática cuando se necesite.
Aplicaciones empresariales: AWS tiene aplicaciones empresariales tradicionales, como por ejemplo, correos empresariales, que, al igual que otros servicios, escala de manera automática y profesional.
Distribución de media: Con este servicio, AWS te brinda mecanismos de transcoding. Por ejemplo, si se desea realizar un streaming, este servicio brinda todo lo necesario para poder llegar a la cantidad de personas que se quiera.
Servicios móviles: Estos servicios son esenciales para lograr una correcta interacción entre una aplicación móviles con otros servicios, como con una base de datos, el backend, etc.
Cómputo científico: AWS tiene máquinas especializadas (más memoria RAM, más CPU, más cores trabajando al mismo tiempo, etc.) para el cómputo enfocado a la parte científica, como pueden ser, simulaciones físicas, simulaciones financieras, etc.
- E-commerce: Este servicio incluye todos los componentes necesarios para hacer una página de ventas virtual. Entre esos componentes, están la parte de seguridad, comunicación con la base de datos de manera segura, tantos servidores como sean necesarios; del lado de la base de datos incluye respaldos, optimizaciones para expandir o disminuir la base de datos de acuerdo al uso, etc.
Ambientes híbridos: Este área de AWS brinda la posibilidad de poder trabajar con información en la nube, y al mismo tiempo con datos de manera local hosteados en un servidor propio.
- Blockchain: Este sistema permite realizar acciones, como por ejemplo, minar, hacer análisis de la información para verificar que no esté siendo modificada o alterada en el camino, entre otras.
Algunas de las ventajas de utilizar AWS:

Usa lo que necesites, apaga lo que no: AWS brinda la posibilidad de encender los servicios cuando se vaya a hacer uso de ellos y de apagarlos cuando no se vayan a utilizar. De esta manera, AWS sólo cobra por el tiempo en el que utilicemos dichos servicios.
Crece tanto como sueñes: AWS permite una escalabilidad a alta velocidad. Esto facilita la posibilidad de crecer o decrecer tanto como se necesite.
Velocidad cuando la necesitas: AWS no sólo brinda la posibilidad de administrar y de escalar a nivel de hardware, también se puede hacer con la velocidad de cómputo los servidores.
- Cobertura mundial: Amazon tiene diversos datacenters en distintos lugares del mundo, y no sólo en distintos lugares del mundo, sino que, por ejemplo, Amazon tiene un datacenter en Brasil, pero no es únicamente un datacenter; son tres o cuatro edificios llamados “zonas”, es decir, cuatro zonas en ese datacenter, cada una con electricidad autónoma, con datos autónomos, etc. de tal manera que se puede tener la confianza de que aunque fallase algún datacenter, hay otros dos o tres que van a responder por el que esté fallando. En ciertos lugares hay limitaciones, como por ejemplo, en los datacenters de China no se pueden almacenar cierto tipos de datos o de información. También es bueno tener en cuenta la ubicación de los datacenters; por ejemplo, en Latinoamérica, el más cercano es el de Brasil, por lo que ese datacenter va a ser mejor en términos de latencia y en temas por el estilo.

### Ventajas del cómputo en la nube AWS
![aws_a42899ad-91a0-4213-9bce-d79e5f557dbc1](https://user-images.githubusercontent.com/56992179/160355884-145263a6-6f45-4443-bbc7-a2b23346c8f9.jpg)

### Fun fact
![aws_a42899ad-91a0-4213-9bce-d79e5f557dbc1](https://user-images.githubusercontent.com/56992179/160356215-41f634af-6dcd-4314-b386-3cec54d4f708.jpg)
- Nota: La primera instacia EC2 y la primera base de datos

### Regiones de AWS
![aws_a42899ad-91a0-4213-9bce-d79e5f557dbc1](https://user-images.githubusercontent.com/56992179/160356394-b5969176-4a4a-41fa-aee9-2a9c99187114.jpg)

# ¿Cómo puedo empezar a usar AWS?

Para crear tu cuenta de AWS debes entrar a aws.amazon.com, recuerda que para crear tu contraseña puedes usar passwordsgenerator.net.

AWS dispone de dos programas que permiten a los clientes trasladar sus enseñanzas y esfuerzos de investigación a la nube y de este modo innovar más rápidamente y con un menor costo. Para aplicar a las becas de AWS entra a aws.amazon.com/es/grants.

Cuando tengas tu cuenta registrada, entra a console.aws.amazon.com y tendrás acceso a la consola de amazon con todos los servicios disponibles.

# Introducción a la oferta de servicios de AWS y sus aplicaciones
**Aportes de la comunidad**:

Servicios de AWS:

- **Computo**: Máquinas virtuales, serverless, infraestructura, etc.
- **Storage**: Administrar archivos.
- **Bases de Datos**: Opciones como PostgreSQL, MySQL, etc.
- **Migración de Servicios**: Si ya tienes datos en una data center, te ayuda a poder migrarlos.
- **Networking & Content Delivery**: Registrar dominios, administrar certificados SSL y más.
- **Herramientas de Desarrollador**: Para facilitar la colaboración entre desarrolladores como xcode, commits, etc.
- **Herramientas de Administración**: (CloudWatch: Permite ver que está sucediendo en tu infraestructura o en tus servidores. CloudTrail: Permite llevar una auditoria accesos y permisos y saber qué es lo que hacen).
- **Media Services**: Como Elastic Transcoder que sirve si por ejemplo estás haciendo streaming de un partido podrías subir el dato que estas generando como vídeo y ellos generaran todas las versiones que necesitas para diferentes tipos de dispositivos ya sean celulares, computadoras, etc.
- **Machine Learning**: Como Rekognition que puedes ir enviando imágenes y te puede reconocer que estás viendo.
- **Analytics**: Cuanta RAM está usando cada visitante, cuanto CPU, que actividad está teniendo ese visitante en tu sitio.
- **Seguridad**: Como IAM que sirve para manejar a que tienen acceso la cuenta de los colaboradores.
- **GuardDuty**: Te permite hacer un recuento de los diferentes accesos de red que ha habido, entonces si hubiese un ataque a un servidor te va a permitir saber de dónde viene el ataque y te va dar opciones].
Servicios Móviles: Te permite generar tus propios servicios móviles de forma más sencilla.
- **AR & VR**: Ya viene con el software instalado y puedes empezar a hacer identificación de algún patrón para empezar a enseñar alguna cosa en tu aplicación.
- **Integración de Aplicaciones**: Como Simple Notification Service: Se puede hacer llamado a diferentes servicios, ejemplo: Enviar notificaciones a través de correo electrónico, SMS.
- **Customer Engagement**: Sirve más para uso empresarial, como correo electrónico, cuentas de Amazon, etc.
- **Bussiness Productivity**: Permite usar Alexa para negocios, cargar documentos al correo empresarial, etc.
- **Desktop & App Streaming**: Como WorkSpaces que sirve si en algún momento necesitas compartirle a alguien alguna máquina virtual de cierta manera, que tenga un escritorio como Windows y que esa máquina tenga un navegador y que solo se pueda conectar al sitio de la empresa, escuela, etc.
Internet of Things: Puede proveer de hardware y te permite crear servicios para que fácilmente puedas administrarlos, como conectarlos con datos o aplicaciones web.
- **Game Development**: (Motor de juegos) Puedes generar un juego con el software que te proporcionan. Crear escenas, interacción.


# Ejemplo de arquitectura con Elastic Beanstalk
Hay muchas formas de desarrollar un sistema en AWS, una de ellas es la arquitectura Elastic Beanstalk.

Esta arquitectura tiene como ventaja la alta disponibilidad y la eficiencia para atender una gran cantidad de usuarios. 

![Arquitectura con Elastic Beanstalk](https://user-images.githubusercontent.com/56992179/159625178-2feb8bbb-cf32-4212-9ac6-07ea3b59d603.jpg)

Conceptos importantes vistos en la clase:

- AWS Elastic Beanstalk: es un servicio de ASW que se utiliza para implementar y escalar servicios y aplicaciones web desarrolladas en JAVA, .NET, PHP, Node.js, Python, Go, entre otros, en servidores familiares como Apache y Nginx. Además se encargará de administar de manera automática la implementación, el aprovisionamiento de la capacidad, el equilibrio de la carga y el escalado de nuestra aplicación.

- CloudWatch: es un servicio de monitorieo y administración creado para desarrolladores, operadores de sistemas, entre otros. El servicio ofrece datos e información procesable para monitorear las aplicaciones, comprender cambios de rendimiento que afectan al sistema, optimizar recursos y lograr una vida unificada del estado de las operaciones. 

## ¿Qué es EC2?
EC2 es un conjunto de máquinas virtuales en AWS (Amazon Web Services) que puedes utilizar para ejecutar tus propias aplicaciones, tanto de calidad como desarrollo o incluso producción.

### Características de EC2 en AWS
- Instancias. Máquinas virtuales con diversas opciones de Sistema Operativo, vCPU, RAM y Disco Duro, entre otros.

- Seguridad. Generación de llaves únicas para conectarte a tu máquina Linux o Windows de forma segura. Es posible generar diferentes llaves o claves para diversas máquinas.

- Espacio. Diversas opciones de espacio en disco duro y es virtualmente infinito. Puedes anexar recursos en cualquier momento, si lo necesitas.

- Redundancia. Es posible tener diversas copias de la misma máquina en diversas regiones geográficas.

- Firewall. Puedes controlar desde dónde te puedes conectar a la máquina y a través de qué puertos. Además, es posible hacer modificaciones en términos de servicios y es muy fácil crear las reglas del firewall.

- Direcciones IP estáticas. Puedes optar por comprar una IP pública estática para que siempre puedas poner la última versión o la última máquina en esa IP.

- Respaldos. Puedes respaldar toda la máquina (ambiente, sistema operativo) cada vez que lo necesites. Además, los respaldos los puedes mover a diferentes regiones y tener múltiples copias disponibles.

- Escalable. Es posible incrementar o disminuir los recursos de la máquina (más vCPUs, más RAM, entre otros) cuando lo necesites.

- Migración de snapshot. Puedes copiar un snapshot a otras regiones, en caso de que algo suceda en la que estás trabajando o para agilizar la conexión desde otros lugares.

Recuerda que se puede consultar la documentación oficial de EC2 AWS en: https://docs.aws.amazon.com/es_es/AWSEC2/latest/UserGuide/concepts.html


**Aporte de la comunidad**: 
Para ambientes de desarrollo y pruebas es recomendable utilizar los servidores de Amazon lightsail, y EC2 para el ambiente de producción

**Cálculo de costos**: 
https://calculator.s3.amazonaws.com/index.html

### Connecting to our instance

Sistemas UNIX como Mac y Linux traen por defecto una terminal predeterminada que funciona perfecto para conectarte por SSH (secure shell) a nuestras instancias en AWS. Sin embargo, en Windows no hay alternativas nativas que funcionen tan bien, así que puedes usar MobaXterm, un software que te ayudara a conectarnos a nuestras instancias, ademas de muchos otros beneficios.

Recuerda que eres tienes las siguientes responsabilidades:

- Updates: Con las instancias, nosotros somos totalmente responsables de la actualización de OS
- Respaldos: Nuestra instancia no se respaldará sola, tendremos que hacerlo nosotros.
- Restauración snapshot: Podemos hacer respaldos antes de hacer grandes cambios para poder hacer rollback del Sistema en caso necesario.

# Conectándonos a nuestra instancia desde OSX

```
chmod 600 platzi-prueba-llave.pem
``` 

```
ssh -i platzi-prueba-llave.pem ec2-user@35.175.175.122
```

# Subiendo un proyecto: Clonando un repositorio de GitHub a nuestra Instancia de EC2

Para clonar repositorios desde tu instancia de AWS necesitas instalar git:

```
# Permisos de super usuario
sudo su
# Instalación de git
yum install git
```

Teniendo git instalado ya podemos clonar el repositorio que necesitemos:

```
git clone [URL_DEL_PROYECTO]
```

En el siguiente link vas a encontrar el repositorio con el que vamos a trabajar en la clase: https://github.com/mauropm/aws-platzi-python.

# Subiendo un proyecto a nuestra instancia de EC2: Ejecutar nuestro proyecto

Ahora que clonamos nuestro repositorio, vamos a instalar las dependencias necesarias para que funcione. El proyecto que trabajamos en clase sólo necesita una dependencia:

```
# Permisos de super usuario
sudo su
# Instalación de flask
pip install flask
```

Con las dependencias instaladas podemos correr nuestro servidor, en el caso de nuestro proyecto es con el siguiente comando:

```
python app.py
```

Para acceder por internet a nuestro servidor tenemos que buscar nuestra instancia de EC2 y copiar la IP pública, pero no es suficiente. Debemos entrar a `Security Groups`, `Inbound` y añadir una regla `Custom TCP Rule`, escribe el puerto en el que corre tu servidor (que para nuestro proyecto es el 5000) y en la opción Source elije *Anywhere*.

Recordar que para encontrar ña IP pública se puede entrar a whatismyip.com.

## EC2 terminal
<img width="871" alt="Captura de Pantalla 2022-04-19 a la(s) 11 19 41 p m" src="https://user-images.githubusercontent.com/56992179/164149733-f5e820b9-53d8-4eff-8554-0122d7010d60.png">

## EC2 running flask
<img width="1392" alt="EC2" src="https://user-images.githubusercontent.com/56992179/164149500-ceff4d08-b342-4aac-ab56-3a7726c3c36b.png">

Pasos:
1. Instalar las dependencias del proyecto
2. Correrlo
3. Ir a la consola y verificar los permisos de conexión "TCP custom" en el puerto 5000 para "anywhere".

# ¿Qué es Lambda y Serverless?

Lambda es un proyecto de AWS muy relacionado con el concepto de Serverless, dejar la administración de tus servidores en manos de Amazon para solo encargarte de las funciones de código que ejecutara tu aplicación.

## ¿Qué son?
Imagina lambda como un lugar donde puedes ejecutar funciones de tu código.

## Serverless
No existe un servidor como vimos en EC2, es decir, solo está el código en lamba y AWS se encarga de ejecutarlo cuando necesites.

## Lenguajes soportados
Puedes programar funciones lamba en Nodejs (JavaScript), Python, Java (8), C# (.Net Core) y Go.

Recordar tener en cuenta los siguientes puntos:

- **Memoria**: Mínima de 128MB, máxima 3000MB con incrementos de 64MB.
- **Límites de ejecución y espacio**: Puedes correr tu aplicación hasta 300 segundos y tienes un /tmp limitado a 512MB.
- **Ejecución paralela**: Esta limitada a 1000 ejecuciones concurrentes (a un mismo tiempo), no tiene límite en ejecuciones secuenciales (una detrás de otra).

Ventajas de Lambda:

- **Seguridad**: Al ser una infraestructura compartida, no tienes que preocuparte de seguridad: AWS maneja todo.
- **Performance**: AWS está monitoreando constantemente la ejecución de tus funciones y se encarga de que siempre tenga el mejor performance.
- **Código aislado**: Tu código, aún estando en una infraestructura compartida, corre en un ambiente virtual exclusivo, aislado de las demás ejecuciones lamba.

## Fun fact
Recordar que AWS regala 1 millón de peticiones lamba gratis el primer año.

# Creating Lambda functions
1. Configuración de las variables de entorno.
2. Configuración de etiquetas.
3. Dar un test o probar en código. (Antes de dar test, darle clic al botón color naranja que dice DEPLOY)

- No había creado un rol por lo que seleccioné “Creación de un nuevo rol con permisos básicos de Lambda” y funcionó perfecto.

<img width="1392" alt="Lmabda functions" src="https://user-images.githubusercontent.com/56992179/160213615-127c793f-b7d5-4443-9962-c004abcfe148.png">

- AWS: AWS Lambda
- Microsoft Azure: Azure Functions
- Google Cloud: Cloud Functions 

# Conociendo Elastic Beanstalk
Elastic Beanstalk es una plataforma donde en pocos pasos, obtienes un balanceador de cargas y tantas instancias EC2 como tu quieras.

Este ambiente puede escalar de manera dinámica de acuerdo al tiempo de respuesta a los usuarios, uso de CPU, uso de RAM, etc.

Esta herramienta soporta los siguientes ambientes:

- Docker Image
- Go
- Java SE
- Java con Tomcat
- .NET + Windows Server + IIS
- Nodejs
- PHP
- Python
- Ruby

## 

- EC2: Son Maquinas virtuales.
- Elastic Beanstalk: Es un arquitectura elástica de infraestructura. 

Aporte de la comunidad: 

Con Elastic Beanstalk, tenemos acceso a una plataforma como servicio (PaaS), en la que podemos gestionar algunos aspectos de la infraestructura. Se pueden crear, probar e implementar aplicaciones web o servicios en la plataforma desarrollados con Java, .NET, PHP, Node.js, Python, Ruby, Go y Docker sin tener que lidiar con el aprovisionamiento, el balanceo de carga o la escalabilidad. Además, Elastic Beanstalk soporta muchos entornos de servidor, incluyendo Apache HTTP Server, Nginx, Microsoft IIS y Apache Tomcat.

Se puede utilizar tanto la línea de comandos como la consola de gestión de Elastic Beanstalk para configurar y gestionar los entornos y aplicaciones